<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.san.spring.dai.BbsDao">
	<insert id="addBbs" parameterType="com.san.spring.dto.BbsDto">
		INSERT INTO MAINBBS
		VALUES(SEQ_MAINBBS.NEXTVAL,#{email},#{title},#{content},#{location},0,#{imgname},#{originfilename},SYSDATE)
	</insert>

	<select id="allBbsList" resultType="com.san.spring.dto.BbsDto">
		SELECT b.POST_NUMBER,
		b.EMAIL, b.TITLE, b.CONTENT, b.LOCATION, b.AUTH_CHECK, b.IMGNAME,
		b.ORIGINFILENAME, b.WDATE, m.nickname
		FROM MAINBBS b , MEMBER m
		WHERE b.Email = m.Email
		ORDER BY b.WDATE DESC
	</select>

</mapper>  

